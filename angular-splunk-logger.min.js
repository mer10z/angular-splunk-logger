!function(a){"use strict";a.module("splunkLogger.logger",[]).provider("SplunkLogger",function(){function b(b){return a.isDefined(b)?(B=b,o):B}function c(b){return a.isDefined(b)?(A=b,o):A}function d(b){return a.isDefined(b)?(q=b,o):q}function e(b){return a.isObject(b)?(y=b,o):y}function f(b){return a.isDefined(b)?(r=!!b,o):r}function g(b){return a.isDefined(b)?(s=!!b,o):s}function h(b){return a.isDefined(b)?(t=!!b,o):t}function i(b){return a.isDefined(b)?(u=b,o):u}function j(b){return a.isDefined(b)?(v=!!b,o):v}function k(b){if(a.isDefined(b)){var c=p.indexOf(b.toUpperCase());if(c<0)throw"Invalid logging level specified: "+b;return z=c,o}return p[z]}function l(a){return p.indexOf(a.toUpperCase())>=z}function m(b){return a.isDefined(b)?(x=!!b,o):x}function n(b){return a.isDefined(b)?(w=!!b,o):w}var o=this,p=["DEBUG","INFO","WARN","ERROR"],q={},r=!1,s=!1,t=!1,u=null,v=!1,w=!0,x=!0,y={},z=0,A=null,B=null;this.endpoint=b,this.token=c,this.fields=d,this.labels=e,this.includeUrl=f,this.includeTimestamp=g,this.includeUserAgent=h,this.inputTag=i,this.sendConsoleErrors=j,this.level=k,this.loggingEnabled=m,this.isLevelEnabled=l,this.logToConsole=n,this.$get=["$injector",function(e){var f=null,g=function(b){if(A&&B&&x){var c=e.get("$window"),d=e.get("$location"),g=e.get("$http");f=new Date;var h={},i=a.extend({},q,b);r&&(i.url=d.absUrl()),s&&(h.time=f.getTime()/1e3),t&&(i.userAgent=c.navigator.userAgent);var j={headers:{Authorization:"Splunk "+A},responseType:"json",withCredentials:!1};for(var k in y)k in i&&(i[y[k]]=i[k],delete i[k]);h.event=i,g.post(B,h,j)}},h=function(){};return{lastLog:function(){return f},sendConsoleErrors:function(){return v},level:function(){return z},loggingEnabled:m,isLevelEnabled:l,attach:h,sendMessage:g,logToConsole:n,token:c,endpoint:b,fields:d}}]}),a.module("splunkLogger",["splunkLogger.logger"]).config(["$provide",function(b){b.decorator("$log",["$delegate","$injector",function(b,c){var d=c.get("SplunkLogger");if(d.sendConsoleErrors()===!0){var e=window.onerror;window.onerror=function(a,b,c,f,g){d.sendMessage({level:"ERROR",message:a,line:c,col:f,stack:g&&g.stack}),e&&"function"==typeof e&&e.apply(window,arguments)}}var f=function(b,c,e){var f=function(){var f=Array.prototype.slice.call(arguments);if(d._logToConsole&&b.apply(null,f),d.loggingEnabled()&&d.isLevelEnabled(c)){var g=(1===f.length?f[0]:f)||{},h={level:c};if(a.isDefined(g.stack)||a.isDefined(g[0])&&a.isDefined(g[0].stack)){if(d.sendConsoleErrors()!==!0)return;h.message=g.message||g[0].message,h.stack=g.stack||g[0].stack}else a.isObject(g)?h=a.extend({},g,h):h.message=g;e&&(h.logger=g),d.sendMessage(h)}};return f.logs=[],f},g=function(a){return{log:a.log,info:a.info,warn:a.warn,error:a.error}}(b),h=function(a){return{log:f(g.log,"INFO",a),debug:f(g.debug,"DEBUG",a),info:f(g.info,"INFO",a),warn:f(g.warn,"WARN",a),error:f(g.error,"ERROR",a)}};return b.log=f(b.log,"INFO"),b.debug=f(b.debug,"DEBUG"),b.info=f(b.info,"INFO"),b.warn=f(b.warn,"WARN"),b.error=f(b.error,"ERROR"),b.getLogger=h,b}])}])}(window.angular);
//# sourceMappingURL=angular-splunk-logger.min.map