!function(a){"use strict";a.module("splunkLogger.logger",[]).provider("SplunkLogger",function(){function b(b){return a.isDefined(b)?(D=b,p):D}function c(b){return a.isDefined(b)?(C=b,p):C}function d(b){return a.isDefined(b)?(A=b,p):A}function e(b){return a.isDefined(b)?(r=b,p):r}function f(b){return a.isObject(b)?(z=b,p):z}function g(b){return a.isDefined(b)?(s=!!b,p):s}function h(b){return a.isDefined(b)?(t=!!b,p):t}function i(b){return a.isDefined(b)?(u=!!b,p):u}function j(b){return a.isDefined(b)?(v=b,p):v}function k(b){return a.isDefined(b)?(w=!!b,p):w}function l(b){if(a.isDefined(b)){var c=q.indexOf(b.toUpperCase());if(c<0)throw"Invalid logging level specified: "+b;return B=c,p}return q[B]}function m(a){return q.indexOf(a.toUpperCase())>=B}function n(b){return a.isDefined(b)?(y=!!b,p):y}function o(b){return a.isDefined(b)?(x=!!b,p):x}var p=this,q=["DEBUG","INFO","WARN","ERROR"],r={},s=!1,t=!1,u=!1,v=null,w=!1,x=!0,y=!0,z={},A=null,B=0,C=null,D=null;this.endpoint=b,this.token=c,this.source=d,this.fields=e,this.labels=f,this.includeUrl=g,this.includeTimestamp=h,this.includeUserAgent=i,this.inputTag=j,this.sendConsoleErrors=k,this.level=l,this.loggingEnabled=n,this.isLevelEnabled=m,this.logToConsole=o,this.$get=["$injector",function(d){var f=null,g=function(b){function c(b){var c=d.get("$window"),e=d.get("$location"),g={};A&&(g.source=A),t&&(g.time=f.getTime()/1e3);var h=a.extend({},r,b);s&&(h.url=e.absUrl()),u&&(h.userAgent=c.navigator.userAgent);for(var i in z)i in h&&(h[z[i]]=h[i],delete h[i]);return g.event=h,g}if(C&&D&&y){var e=d.get("$http");f=new Date;var g=c(b),h={headers:{Authorization:"Splunk "+C},responseType:"json",withCredentials:!1};e.post(D,g,h)}};return{lastLog:function(){return f},sendConsoleErrors:function(){return w},level:function(){return B},loggingEnabled:n,isLevelEnabled:m,sendMessage:g,logToConsole:o,token:c,endpoint:b,fields:e}}]}),a.module("splunkLogger",["splunkLogger.logger"]).config(["$provide",function(b){b.decorator("$log",["$delegate","$injector",function(b,c){var d=c.get("SplunkLogger");if(d.sendConsoleErrors()===!0){var e=window.onerror;window.onerror=function(a,b,c,f,g){d.sendMessage({level:"ERROR",message:a,line:c,col:f,stack:g&&g.stack}),e&&"function"==typeof e&&e.apply(window,arguments)}}var f=function(b,c,e){var f=function(){var f=Array.prototype.slice.call(arguments);if(d._logToConsole&&b.apply(null,f),d.loggingEnabled()&&d.isLevelEnabled(c)){var g=(1===f.length?f[0]:f)||{},h={level:c};if(a.isDefined(g.stack)||a.isDefined(g[0])&&a.isDefined(g[0].stack)){if(d.sendConsoleErrors()!==!0)return;h.message=g.message||g[0].message,h.stack=g.stack||g[0].stack}else a.isObject(g)?h=a.extend({},g,h):h.message=g;e&&(h.logger=g),d.sendMessage(h)}};return f.logs=[],f},g=function(a){return{log:a.log,info:a.info,warn:a.warn,error:a.error}}(b),h=function(a){return{log:f(g.log,"INFO",a),debug:f(g.debug,"DEBUG",a),info:f(g.info,"INFO",a),warn:f(g.warn,"WARN",a),error:f(g.error,"ERROR",a)}};return b.log=f(b.log,"INFO"),b.debug=f(b.debug,"DEBUG"),b.info=f(b.info,"INFO"),b.warn=f(b.warn,"WARN"),b.error=f(b.error,"ERROR"),b.getLogger=h,b}])}])}(window.angular);
//# sourceMappingURL=angular-splunk-logger.min.map